#pragma checksum "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "6b23f6bf47670f7a586e0014b381f7ffd67364ef"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Calculator_Calculate), @"mvc.1.0.view", @"/Views/Calculator/Calculate.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\_ViewImports.cshtml"
using Doctorantura.App;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\_ViewImports.cshtml"
using Doctorantura.App.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
using Doctorantura.App.ViewModels;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"6b23f6bf47670f7a586e0014b381f7ffd67364ef", @"/Views/Calculator/Calculate.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"262781e40b287fab6373e69578f1b33d5a47c059", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Calculator_Calculate : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<ColumnLine>>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
  
    ViewData["Title"] = "Calculate";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<style>
    .setFull {
        width: 100%;
    }
</style>

<input id=""btn_add"" type=""button"" class=""col-12 btn btn-primary d-block mr-5"" value=""Sütun əlavə et"">

<table class=""table"">
    <thead id=""thead"">
        <tr class=""tr_head"">
            <th scope=""col"">G</th>
");
#nullable restore
#line 18 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
             foreach (var columnId in @Model.GroupBy(x => x.ColumnId).Select(x => x.Key).ToList())
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <th");
            BeginWriteAttribute("th_row", " th_row=\"", 531, "\"", 619, 1);
#nullable restore
#line 20 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
WriteAttributeValue("", 540, Model.Where(x=>x.ColumnId==@columnId).Select(x=>x.Column.Row).FirstOrDefault(), 540, 79, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" scope=\"col\">\r\n                    <input type=\"text\" disabled");
            BeginWriteAttribute("value", " value=\"", 682, "\"", 770, 1);
#nullable restore
#line 21 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
WriteAttributeValue("", 690, Model.Where(x=>x.ColumnId==@columnId).Select(x=>x.Column.Name).FirstOrDefault(), 690, 80, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"setFull\">\r\n                </th>\r\n");
#nullable restore
#line 23 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </tr>\r\n    </thead>\r\n\r\n    <tbody id=\"tbody\">\r\n");
#nullable restore
#line 28 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
         foreach (var lineId in @Model.GroupBy(x => x.LineId).Select(x => x.Key).ToList())
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <tr class=\"tr_tbody\">\r\n                <td scope=\"col\">\r\n                    <input type=\"text\" disabled");
            BeginWriteAttribute("value", " value=\"", 1102, "\"", 1188, 1);
#nullable restore
#line 32 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
WriteAttributeValue("", 1110, Model.Where(x=>x.ColumnId==@lineId).Select(x=>x.Column.Name).FirstOrDefault(), 1110, 78, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"setFull\">\r\n                </td>\r\n");
#nullable restore
#line 34 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
                 foreach (var columnLine in @Model.Where(x => x.LineId == @lineId).OrderBy(x => x.Column.Row))
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <td");
            BeginWriteAttribute("column", " column=\"", 1385, "\"", 1416, 1);
#nullable restore
#line 36 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
WriteAttributeValue("", 1394, columnLine.Column.Row, 1394, 22, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("line", " line=\"", 1417, "\"", 1444, 1);
#nullable restore
#line 36 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
WriteAttributeValue("", 1424, columnLine.Line.Row, 1424, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                        <input type=\"text\" disabled");
            BeginWriteAttribute("value", " value=\"", 1499, "\"", 1524, 1);
#nullable restore
#line 37 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
WriteAttributeValue("", 1507, columnLine.Value, 1507, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"setFull\">\r\n                    </td>\r\n");
#nullable restore
#line 39 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("            </tr>\r\n");
#nullable restore
#line 41 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

    </tbody>
</table>

<script>
    let btnAdd = document.getElementById(""btn_add"");
    let t_head = document.getElementById(""thead"");
    let t_body = document.getElementById(""tbody"");
    let tr_tbody = document.getElementsByClassName(""tr_tbody"");
    let tr_head = document.getElementsByClassName(""tr_head"");
    let maxColumn = ");
#nullable restore
#line 53 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
               Write(Model.GroupBy(x => x.ColumnId).Select(x => x.Key).LastOrDefault());

#line default
#line hidden
#nullable disable
            WriteLiteral(";\r\n    let maxLine = ");
#nullable restore
#line 54 "D:\Metin\Projects\DoctoranturaApp\Doctorantura.App\Views\Calculator\Calculate.cshtml"
             Write(Model.GroupBy(x => x.LineId).Select(x => x.Key).LastOrDefault());

#line default
#line hidden
#nullable disable
            WriteLiteral(@";




    btnAdd.addEventListener(""click"", function() {

        maxColumn++;
        maxLine++;
        createTh();
        createTBodyTr();

        for (let f of t_body.lastElementChild.children) {
            f.firstElementChild.setAttribute(""disabled"", """");

        }

        t_body.lastElementChild.lastElementChild.firstElementChild.value = 1;

        let columnThis = 0;
        let lineThis = 0

        for (let f of tr_tbody) {
            for (let x of f.children) {
                x.addEventListener(""keyup"", function() {
                    columnThis = x.getAttribute(""column"");
                    lineThis = x.getAttribute(""line"");
                    let column_name = """";

                    for (let f of tr_head[0].children) {
                        if (f.getAttribute(""th_row"") == columnThis) {
                            column_name=f.firstElementChild.value
                        }
                    }


                    addDb(columnThis, lineThis, x");
            WriteLiteral(@".firstElementChild.value, column_name);

                    for (let l of tr_tbody) {
                        for (let i of l.children) {
                            if (i.getAttribute(""line"") == columnThis && i.getAttribute(""column"") == lineThis) {
                                i.firstElementChild.value = 1 / x.firstElementChild.value
                            }
                        }
                    }

                });
            }
        }



        for (let f of t_body.children) {
            f.firstElementChild.firstElementChild.setAttribute(""disabled"", """")
        }

        for (let f = 0; f < t_head.firstElementChild.children.length; f++) {
            //t_head.lastElementChild.children[f].firstElementChild.setAttribute(""disabled"", """")
            t_head.firstElementChild.children[f].addEventListener(""keyup"", function() {

                t_body.children[f - 1].firstElementChild.firstChild.value = t_head.firstElementChild.children[f].firstElementChild.value
");
            WriteLiteral(@"
            })
        }
    });

    function createTBodyTr() {
        let tBody_tr = document.createElement(""tr"");
        tBody_tr.classList.add(""tr_tbody"");

        for (let i = 0; i < tr_tbody.length + 2; i++) {
            let td = createTd(i, maxLine);
            tBody_tr.appendChild(td);
        }

        t_body.appendChild(tBody_tr);

    }
    function createTd(column, line) {
        let td_input = document.createElement(""input"");
        td_input.classList.add(""setFull"")

        let td = document.createElement(""td"");
        if (column > 0 && line > 0) {
            td.setAttribute(""column"", column);
            td.setAttribute(""line"", line);
        }

        td.appendChild(td_input);
        return td;
    }

    function createTh() {
        let th_input = document.createElement(""input"");
        th_input.classList.add(""setFull"")

        let th = document.createElement(""th"");
        th.setAttribute(""th_row"", maxColumn);

        th.appendChild(th_in");
            WriteLiteral(@"put);
        t_head.firstElementChild.appendChild(th);

        for (let i = 0; i < tr_head.length; i++) {

            for (let f = 0; f < t_body.children.length; f++) {
                let line = f + 1;
                let td = createTd(maxColumn, line);
                t_body.children[f].appendChild(td)
            }
        }
    }


    function addDb(column, line, val, column_name) {
        $.ajax({
            url: ""/Calculator/Insert"",
            method: ""POST"",
            data: { columnNo: column, lineNo: line, val: val, columnName: column_name },
            success: function(res) {
                console.log(res.response);
            },
            error: function(res) {
                console.log(res.response);
            }
        });
    }

</script>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<ColumnLine>> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
